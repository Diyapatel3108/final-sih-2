(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9992],{3998:(e,s,t)=>{"use strict";t.d(s,{$:()=>o,r:()=>d});var r=t(95155),a=t(12115),l=t(32467),n=t(83101),i=t(64269);let d=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),o=a.forwardRef((e,s)=>{let{className:t,variant:a,size:n,asChild:o=!1,...c}=e,u=o?l.DX:"button";return(0,r.jsx)(u,{className:(0,i.cn)(d({variant:a,size:n,className:t})),ref:s,...c})});o.displayName="Button"},14294:(e,s,t)=>{"use strict";t.d(s,{A:()=>i});var r=t(12115);let a=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()};var l={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let n=(0,r.forwardRef)((e,s)=>{let{color:t="currentColor",size:n=24,strokeWidth:i=2,absoluteStrokeWidth:d,className:o="",children:c,iconNode:u,...h}=e;return(0,r.createElement)("svg",{ref:s,...l,width:n,height:n,stroke:t,strokeWidth:d?24*Number(i)/Number(n):i,className:a("lucide",o),...h},[...u.map(e=>{let[s,t]=e;return(0,r.createElement)(s,t)}),...Array.isArray(c)?c:[c]])}),i=(e,s)=>{let t=(0,r.forwardRef)((t,l)=>{let{className:i,...d}=t;return(0,r.createElement)(n,{ref:l,iconNode:s,className:a("lucide-".concat(e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),i),...d})});return t.displayName="".concat(e),t}},20965:(e,s,t)=>{"use strict";t.d(s,{A:()=>d,AuthProvider:()=>i});var r=t(95155),a=t(12115),l=t(51289);let n=(0,a.createContext)({user:null,profile:null,loading:!0}),i=e=>{let{children:s}=e,[t,i]=(0,a.useState)(null),[d,o]=(0,a.useState)(null),[c,u]=(0,a.useState)(!0);return(0,a.useEffect)(()=>{(async()=>{var e;let{data:{session:s}}=await l.N.auth.getSession();i(null!=(e=null==s?void 0:s.user)?e:null),u(!1)})();let{data:e}=l.N.auth.onAuthStateChange((e,s)=>{var t;i(null!=(t=null==s?void 0:s.user)?t:null),(null==s?void 0:s.user)?l.N.from("users").select("*").eq("id",s.user.id).single().then(e=>{let{data:s}=e;console.log("Fetched profile data:",s),o(s)}):o(null),u(!1)});return()=>{e.subscription.unsubscribe()}},[]),(0,r.jsx)(n.Provider,{value:{user:t,profile:d,loading:c},children:s})},d=()=>(0,a.useContext)(n)},25128:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(14294).A)("Code",[["polyline",{points:"16 18 22 12 16 6",key:"z7tu5w"}],["polyline",{points:"8 6 2 12 8 18",key:"1eg1df"}]])},28127:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(14294).A)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]])},51289:(e,s,t)=>{"use strict";t.d(s,{N:()=>n});var r=t(65040);let a="https://mwvoxtyheoowvqvdwzqd.supabase.co",l="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im13dm94dHloZW9vd3ZxdmR3enFkIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTc1NzQ3NjMsImV4cCI6MjA3MzE1MDc2M30.Mh2z0deL-DoOyw2BY7DneG7qQV7VOrI-Ju9Ck7PvL5I";if(!a||!l)throw Error("Supabase URL and anonymous key are required.");let n=(0,r.UU)(a,l)},56789:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var r=t(95155),a=t(52619),l=t.n(a),n=t(86948),i=t(3998),d=t(77187),o=t(62593),c=t(25128),u=t(28127);let h=(0,t(14294).A)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);var x=t(20965),m=t(12115);function f(e){let{teacher:s,todaysClasses:t,totalStudents:a,totalClasses:x}=e;return(0,r.jsxs)("div",{className:"grid flex-1 items-start gap-4 md:gap-8",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold font-headline",children:"Dashboard"}),(0,r.jsxs)("p",{className:"text-muted-foreground",children:["Welcome back, ",s.name,"."]})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,r.jsx)(p,{icon:(0,r.jsx)("div",{}),title:"Total Students",value:a}),(0,r.jsx)(p,{icon:(0,r.jsx)(d.A,{}),title:"Total Classes",value:x}),(0,r.jsx)(p,{icon:(0,r.jsx)(o.A,{}),title:"Classes Today",value:t.length}),(0,r.jsx)(p,{icon:(0,r.jsx)("div",{}),title:"Absent Today",value:"0"})]}),(0,r.jsxs)("div",{className:"grid gap-6 lg:grid-cols-3",children:[(0,r.jsxs)(n.Zp,{className:"lg:col-span-1",children:[(0,r.jsx)(n.aR,{children:(0,r.jsx)(n.ZB,{children:"Quick Actions"})}),(0,r.jsxs)(n.Wu,{className:"space-y-3",children:[(0,r.jsx)(i.$,{asChild:!0,className:"w-full justify-start gap-2",children:(0,r.jsxs)(l(),{href:"/teacher/qr-generate",children:[(0,r.jsx)(c.A,{})," Generate Class QR"]})}),(0,r.jsx)(i.$,{asChild:!0,variant:"outline",className:"w-full justify-start gap-2",children:(0,r.jsxs)(l(),{href:"/teacher/dashboard",children:[(0,r.jsx)(u.A,{})," View Full Schedule"]})}),(0,r.jsx)(i.$,{asChild:!0,variant:"outline",className:"w-full justify-start gap-2",children:(0,r.jsxs)(l(),{href:"/teacher/dashboard",children:[(0,r.jsx)(h,{})," View Performance"]})})]})]}),(0,r.jsxs)(n.Zp,{className:"lg:col-span-2",children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)(n.ZB,{children:"Today's Classes"}),(0,r.jsxs)(n.BT,{children:["You have ",t.length," classes scheduled for today."]})]}),(0,r.jsx)(i.$,{asChild:!0,variant:"ghost",size:"sm",children:(0,r.jsxs)(l(),{href:"/teacher/dashboard",children:["View All ",(0,r.jsx)(h,{className:"ml-1 h-4 w-4"})]})})]}),(0,r.jsx)(n.Wu,{children:t.length>0?(0,r.jsx)("ul",{className:"space-y-4",children:t.map(e=>(0,r.jsxs)("li",{className:"flex items-center justify-between p-3 bg-secondary rounded-lg",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-semibold",children:e.name}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:[e.studentCount," Students"]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"font-medium text-primary",children:e.schedule}),(0,r.jsx)("p",{className:"text-sm text-muted-foreground",children:e.code})]})]},e.id))}):(0,r.jsx)("p",{className:"text-center py-8 text-muted-foreground",children:"No classes scheduled for today."})})]})]})]})}function p(e){let{icon:s,title:t,value:a}=e;return(0,r.jsxs)(n.Zp,{children:[(0,r.jsxs)(n.aR,{className:"flex flex-row items-center justify-between pb-2",children:[(0,r.jsx)(n.ZB,{className:"text-sm font-medium",children:t}),(0,r.jsx)("div",{className:"text-muted-foreground",children:s})]}),(0,r.jsx)(n.Wu,{children:(0,r.jsx)("div",{className:"text-2xl font-bold",children:a})})]})}function v(){let{profile:e,loading:s}=(0,x.A)(),[t,a]=(0,m.useState)([]),[l,n]=(0,m.useState)(0),[i,d]=(0,m.useState)(0);return s?(0,r.jsx)("div",{children:"Loading..."}):e?(0,r.jsx)(f,{teacher:e,todaysClasses:t,totalStudents:l,totalClasses:i}):(0,r.jsx)("div",{children:"Please log in to view your dashboard."})}},62593:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(14294).A)("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]])},64269:(e,s,t)=>{"use strict";t.d(s,{cn:()=>l});var r=t(2821),a=t(75889);function l(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.QP)((0,r.$)(s))}},77187:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(14294).A)("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},83669:(e,s,t)=>{Promise.resolve().then(t.bind(t,56789))},86948:(e,s,t)=>{"use strict";t.d(s,{BT:()=>o,Wu:()=>c,ZB:()=>d,Zp:()=>n,aR:()=>i,wL:()=>u});var r=t(95155),a=t(12115),l=t(64269);let n=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",t),...a})});n.displayName="Card";let i=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex flex-col space-y-1.5 p-6",t),...a})});i.displayName="CardHeader";let d=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("text-2xl font-semibold leading-none tracking-tight",t),...a})});d.displayName="CardTitle";let o=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",t),...a})});o.displayName="CardDescription";let c=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("p-6 pt-0",t),...a})});c.displayName="CardContent";let u=a.forwardRef((e,s)=>{let{className:t,...a}=e;return(0,r.jsx)("div",{ref:s,className:(0,l.cn)("flex items-center p-6 pt-0",t),...a})});u.displayName="CardFooter"}},e=>{e.O(0,[7620,2619,5402,8441,1255,7358],()=>e(e.s=83669)),_N_E=e.O()}]);